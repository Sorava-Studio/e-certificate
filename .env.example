# üèÜ EMERA Certificate - Environment Variables
# ============================================
# Copy this file to .env and fill in your actual values
# ‚ö†Ô∏è  NEVER commit .env to version control!

# ============================================
# üåê APPLICATION
# ============================================

# The base URL of your application (no trailing slash)
# Local: http://localhost:3000
# Production: https://emeracertificate.com
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Environment: development | staging | production
NODE_ENV=development

# ============================================
# üóÑÔ∏è  DATABASE (PostgreSQL + Drizzle ORM)
# ============================================

# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
# Docker local: postgresql://postgres:postgres@localhost:5432/emera_certificate
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/emera_certificate

# Direct connection for migrations (bypasses connection pooling)
DIRECT_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/emera_certificate

# Enable query logging (true/false)
DATABASE_LOGGING=true

# ============================================
# üîê AUTHENTICATION (BetterAuth)
# ============================================

# Secret key for JWT signing (generate with: openssl rand -base64 32)
# ‚ö†Ô∏è  CHANGE THIS IN PRODUCTION!
AUTH_SECRET=your-super-secret-auth-key-change-this-in-production

# Session configuration
AUTH_TRUST_HOST=true
AUTH_SESSION_MAX_AGE=604800  # 7 days in seconds

# OAuth Providers (optional for MVP)
# Google OAuth - Get from: https://console.cloud.google.com
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ============================================
# üí≥ STRIPE (Payments & Identity)
# ============================================

# Get your keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Webhook signing secret (for payment confirmations)
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Identity (for KYC verification)
STRIPE_IDENTITY_VERIFICATION_SESSION_SECRET=your_identity_secret

# Product Price IDs (create in Stripe Dashboard)
STRIPE_PRICE_STANDARD_AUTH=price_standard_authentication_29eur
STRIPE_PRICE_PREMIUM_AUTH=price_premium_authentication_99eur

# ============================================
# üì¶ FILE STORAGE (Watch Images & Certificates)
# ============================================

# Choose your storage provider: local | s3 | cloudinary
STORAGE_PROVIDER=local

# AWS S3 Configuration (if using S3)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=eu-west-1
AWS_S3_BUCKET_NAME=emera-watch-images

# Cloudinary Configuration (if using Cloudinary)
# Get from: https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# Maximum file size for uploads (in bytes)
MAX_FILE_SIZE=5242880  # 5MB

# ============================================
# üìß EMAIL SERVICE
# ============================================

# Email provider: resend | sendgrid | smtp
EMAIL_PROVIDER=resend

# Resend (recommended) - Get from: https://resend.com
RESEND_API_KEY=re_your_resend_api_key

# SendGrid (alternative)
SENDGRID_API_KEY=SG.your_sendgrid_api_key

# SMTP Configuration (if using custom SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@emeracertificate.com
SMTP_FROM_NAME=EMERA Certificate

# Email configuration
NEXT_PUBLIC_SUPPORT_EMAIL=support@emeracertificate.com

# ============================================
# ü§ñ AI & VERIFICATION (Future Use)
# ============================================

# OpenAI API for image analysis (Phase 2)
OPENAI_API_KEY=sk-your-openai-api-key

# Custom AI model endpoint (if self-hosted)
AI_MODEL_ENDPOINT=https://api.yourai.com/v1

# ============================================
# üîç EXTERNAL APIs
# ============================================

# Google Maps API (for location services)
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your-google-maps-key

# Watchbase API (for watch data enrichment - if available)
WATCHBASE_API_KEY=your-watchbase-api-key

# ============================================
# üìä ANALYTICS & MONITORING
# ============================================

# PostHog (product analytics)
NEXT_PUBLIC_POSTHOG_KEY=phc_your_posthog_key
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Sentry (error tracking)
NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project
SENTRY_AUTH_TOKEN=your-sentry-auth-token

# Google Analytics
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# ============================================
# üîí SECURITY
# ============================================

# Rate limiting (requests per minute)
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60000  # 1 minute in milliseconds

# CORS allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,https://emeracertificate.com

# Content Security Policy
CSP_REPORT_URI=https://yourdomain.report-uri.com/r/d/csp/enforce

# ============================================
# üí∞ BUSINESS LOGIC
# ============================================

# Minimum watch value for identity verification (in EUR)
MIN_VALUE_FOR_KYC=10000

# Partner commission percentage (0-100)
PARTNER_COMMISSION_RATE=30

# Free authentication limit per user
FREE_AUTHENTICATIONS_LIMIT=3

# ============================================
# üß™ DEVELOPMENT & TESTING
# ============================================

# Enable debug mode (verbose logging)
DEBUG=false

# Bypass email verification in development
BYPASS_EMAIL_VERIFICATION=false

# Mock payment processing (for testing without Stripe)
MOCK_PAYMENTS=false

# Seed database with test data on startup
SEED_DATABASE=false

# ============================================
# üöÄ DEPLOYMENT
# ============================================

# Vercel (if deploying to Vercel)
VERCEL_PROJECT_ID=prj_your_project_id
VERCEL_ORG_ID=team_your_team_id

# Docker deployment
DOCKER_IMAGE_TAG=latest

# ============================================
# üìù NOTES
# ============================================
#
# üîó Useful Links:
# - Stripe Dashboard: https://dashboard.stripe.com
# - BetterAuth Docs: https://better-auth.com
# - Drizzle ORM Docs: https://orm.drizzle.team
# - Next.js Docs: https://nextjs.org/docs
#
# üõ†Ô∏è  Setup Commands:
# - Generate auth secret: openssl rand -base64 32
# - Start database: docker-compose up -d
# - Push database schema: npm run db:push
# - Open Drizzle Studio: npm run db:studio
#
# ‚ö†Ô∏è  Security Reminders:
# - Rotate AUTH_SECRET regularly in production
# - Use strong, unique passwords for database
# - Enable 2FA on all third-party services
# - Never commit .env files to git
# - Use different keys for dev/staging/production
#
# ============================================
